<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags for Character Set and Viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Wrotron – Growth Consultants for Ambitious MSMEs & Start-ups</title>
    <meta name="description" content="Wrotron pairs IIM-level strategic insight with hands-on execution. We help founders and family businesses unlock rapid, sustainable growth—no matter your current size.">
    <meta name="keywords" content="Consulting, MSME, SME, Startup Strategy, Business Growth, Cash-Flow, Market Expansion, Operations Excellence">
    
    <!-- Favicon (replace with your actual favicon.ico file) -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- All CSS is now directly inside this <style> tag -->
    <style>
        /* =================================================================
           BASE STYLES & THEME
        ================================================================== */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #0f172a; /* slate-900 */
            background-image: radial-gradient(at 47% 33%, hsl(215.00, 39%, 30%) 0, transparent 59%), 
                              radial-gradient(at 82% 65%, hsl(252.00, 39%, 25%) 0, transparent 55%);
            color: #d1d5db; /* Default text color (gray-300) */
        }

        /* =================================================================
           GLASSMORPHISM CARD STYLES
        ================================================================== */
        .glass-card {
            background: rgba(30, 41, 59, 0.4); /* slate-800 with 40% opacity */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border-color: rgba(139, 92, 246, 0.3); /* A subtle indigo border on hover */
        }

        /* =================================================================
           BUTTON STYLES
        ================================================================== */
        .btn-glow:hover {
            box-shadow: 0 0 25px 5px rgba(99, 102, 241, 0.5); /* indigo-500 glow */
        }

        /* =================================================================
           CUSTOM SCROLLBAR
        ================================================================== */
        ::-webkit-scrollbar { 
            width: 10px; 
        }
        ::-webkit-scrollbar-track { 
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb { 
            background: #4f46e5; 
            border-radius: 5px; 
        }
        ::-webkit-scrollbar-thumb:hover { 
            background: #6366f1; 
        }

        /* =================================================================
           MODAL STYLES
        ================================================================== */
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-container {
            transition: all 0.3s ease;
        }

        /* =================================================================
           SCROLL REVEAL ANIMATION
        ================================================================== */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* =================================================================
           DROPDOWN MENU STYLES
        ================================================================== */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #1e293b; /* slate-800 */
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dropdown-content a {
            color: #d1d5db;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover { 
            background-color: #4338ca; /* indigo-700 */
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>

<body class="antialiased">

    <!-- =================================================================
         HEADER & NAVIGATION BAR
    ================================================================== -->
    <header class="bg-black/20 backdrop-blur-lg sticky top-0 z-40 border-b border-white/10">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" class="flex items-center space-x-3">
                <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="12" fill="#6366f1"/>
                    <path d="M7 9.5L9.5 14.5L12 9.5L14.5 14.5L17 9.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span class="text-2xl font-bold text-white">Wrotron.in</span>
            </a>
            <div class="flex items-center">
                <ul class="hidden lg:flex items-center space-x-8">
                    <li><a href="#home" class="text-gray-300 hover:text-indigo-400 transition-colors">Home</a></li>
                    <li><a href="#about" class="text-gray-300 hover:text-indigo-400 transition-colors">About</a></li>
                    <li><a href="#services" class="text-gray-300 hover:text-indigo-400 transition-colors">Services</a></li>
                    <li><a href="#case-studies" class="text-gray-300 hover:text-indigo-400 transition-colors">Case Studies</a></li>
                </ul>
                <a href="#contact" class="open-modal-btn hidden lg:inline-block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-5 ml-8 rounded-lg transition-colors btn-glow">
                    Contact Us
                </a>
                <button id="mobile-menu-button" class="lg:hidden text-white ml-4 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden bg-black/20">
            <ul class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <li><a href="#home" class="block py-2 px-3 text-white hover:bg-indigo-600 rounded">Home</a></li>
                <li><a href="#about" class="block py-2 px-3 text-white hover:bg-indigo-600 rounded">About</a></li>
                <li><a href="#services" class="block py-2 px-3 text-white hover:bg-indigo-600 rounded">Services</a></li>
                <li><a href="#case-studies" class="block py-2 px-3 text-white hover:bg-indigo-600 rounded">Case Studies</a></li>
                <li><a href="#contact" class="open-modal-btn block py-2 px-3 mt-2 bg-indigo-600 rounded text-center text-white">Contact Us</a></li>
            </ul>
        </div>
    </header>

    <!-- =================================================================
         MAIN CONTENT WRAPPER
    ================================================================== -->
    <main>
        <!-- =================================================================
             HERO SECTION
        ================================================================== -->
        <section id="home" class="py-20 lg:py-40">
            <div class="container mx-auto px-6 text-center reveal">
                <h1 class="text-4xl lg:text-6xl font-black text-white tracking-tighter leading-tight">Empowering Ambition. Delivering Results.</h1>
                <p class="mt-6 text-lg lg:text-xl text-gray-300 max-w-3xl mx-auto">Wrotron blends IIM-caliber insight with hands-on execution, delivering world-class consulting to the founders and family businesses forging their future.</p>
                <div class="mt-10">
                    <a href="#" class="open-modal-btn inline-block bg-indigo-600 text-white font-bold py-4 px-8 rounded-lg text-lg transform hover:scale-105 transition-all duration-300 btn-glow">Schedule Your Free Discovery Call</a>
                </div>
            </div>
        </section>

        <!-- =================================================================
             ABOUT & CORE VALUES SECTION
        ================================================================== -->
        <section id="about" class="py-20 bg-black/20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl lg:text-4xl font-bold text-white reveal">Our Story & Why We Exist</h2>
                <p class="mt-4 text-lg text-gray-300 max-w-3xl mx-auto reveal">Wrotron was born on a midnight bus rattling down a dusty road. Our founder – a second-year MBA student at IIM – sat by the dim aisle light, sketching a plan to help a struggling family business he’d met that day. The smell of machinery oil still clung to his clothes from the factory visit, but in that moment an idea sparked: What if world-class consulting could be made accessible to the unsung heroes of the economy – the small manufacturers, the bootstrapped startups, the local entrepreneurs burning the midnight oil?</p>
                <div class="mt-12 grid md:grid-cols-3 gap-8">
                    <div class="glass-card p-8 rounded-2xl reveal">
                        <h3 class="text-2xl font-bold text-white">Our Mission</h3>
                        <p class="mt-4 text-gray-300">To empower ambitious startups and SMEs by delivering big-firm strategic expertise with a small-firm touch, driving sustainable growth and tangible results for those building the future from the ground up.</p>
                    </div>
                    <div class="glass-card p-8 rounded-2xl reveal" style="transition-delay: 200ms;">
                        <h3 class="text-2xl font-bold text-white">Our Vision</h3>
                        <p class="mt-4 text-gray-300">A business landscape where no visionary idea is left behind due to lack of access to quality guidance. We envision a future where a corner workshop or a garage startup can achieve its fullest potential by leveraging world-class advice tailored to its reality – ultimately contributing to thriving local economies and innovation everywhere.</p>
                    </div>
                    <div class="glass-card p-8 rounded-2xl reveal" style="transition-delay: 400ms;">
                        <h3 class="text-2xl font-bold text-white">Our Core Values</h3>
                        <p class="mt-4 text-gray-300">Authenticity & Empathy, Impact-Driven Excellence, Hands-On Collaboration, Integrity & Trust, and Continuous Learning.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- =================================================================
             SERVICES SECTION
        ================================================================== -->
        <section id="services" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl lg:text-4xl font-bold text-white reveal">Our Services</h2>
                <p class="mt-4 text-lg text-gray-300 max-w-3xl mx-auto reveal">Wrotron offers a comprehensive suite of consulting services tailored to the needs of growing businesses. From defining high-level strategy to fine-tuning daily operations, we cover the spectrum – with specialized focus in Strategy, Finance, Operations, Marketing, and Digital.</p>
                <div class="mt-12 grid sm:grid-cols-2 lg:grid-cols-2 gap-8 text-left">
                    <article class="glass-card p-8 rounded-2xl reveal">
                        <h3 class="text-2xl font-bold text-white">Cash-Flow & Working Capital Management</h3>
                        <p class="mt-4"><strong class="text-indigo-300">Deliverables:</strong> Customized cash-flow model, 90-day burn analysis</p>
                        <p class="mt-2"><strong class="text-indigo-300">Timeline:</strong> 3 weeks</p>
                        <p class="mt-2"><strong class="text-indigo-300">Outcome:</strong> Reduce DSO by 15%</p>
                    </article>
                    <article class="glass-card p-8 rounded-2xl reveal" style="transition-delay: 100ms;">
                        <h3 class="text-2xl font-bold text-white">Financial Compliance & GST Advisory</h3>
                        <p class="mt-4"><strong class="text-indigo-300">Deliverables:</strong> End-to-end GST filing support, quarterly compliance reviews</p>
                        <p class="mt-2"><strong class="text-indigo-300">Timeline:</strong> Ongoing with monthly check-ins</p>
                        <p class="mt-2"><strong class="text-indigo-300">Outcome:</strong> Zero compliance penalties, streamlined filings</p>
                    </article>
                    <article class="glass-card p-8 rounded-2xl reveal" style="transition-delay: 200ms;">
                        <h3 class="text-2xl font-bold text-white">Market Expansion Strategy</h3>
                        <p class="mt-4"><strong class="text-indigo-300">Deliverables:</strong> Market entry report, channel partner mapping</p>
                        <p class="mt-2"><strong class="text-indigo-300">Timeline:</strong> 4 weeks</p>
                        <p class="mt-2"><strong class="text-indigo-300">Outcome:</strong> Identify 2 new sales channels with 10% projected revenue growth</p>
                    </article>
                    <article class="glass-card p-8 rounded-2xl reveal border-2 border-indigo-500" style="transition-delay: 300ms;">
                        <h3 class="text-2xl font-bold text-white">Tech Enablement (Add-On)</h3>
                        <p class="mt-4"><strong class="text-indigo-300">Deliverables:</strong> Digital diagnostics, software integration plan</p>
                        <p class="mt-2"><strong class="text-indigo-300">Timeline:</strong> 6 weeks</p>
                        <p class="mt-2"><strong class="text-indigo-300">Outcome:</strong> 25% improvement in operational efficiency</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- =================================================================
             CASE STUDIES & TESTIMONIALS SECTION
        ================================================================== -->
        <section id="case-studies" class="py-20 bg-black/20">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl lg:text-4xl font-bold text-white text-center reveal">Our Impact in Action</h2>
                <div class="mt-12 grid lg:grid-cols-2 gap-12 items-center">
                    <div class="glass-card p-8 rounded-2xl reveal">
                        <h4 class="text-2xl font-bold text-white">ABC Textiles</h4>
                        <p class="text-indigo-300 font-semibold mt-1"><em>Textile Manufacturing, Gujarat</em></p>
                        <ul class="mt-4 space-y-3 text-left">
                            <li><strong>Challenge:</strong> High DSO (90 days) & erratic cash flow</li>
                            <li><strong>Solution:</strong> New invoicing protocol + tailored cash-flow model</li>
                            <li><strong>Results:</strong>
                                <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
                                    <li>DSO ↓ from 90 to 60 days (–33%)</li>
                                    <li>Cash reserves ↑ by ₹50 L in 4 months</li>
                                    <li>Revenue growth +18% in Q1 2025</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="reveal" style="transition-delay: 200ms;">
                        <blockquote class="bg-indigo-900/30 border-l-4 border-indigo-500 p-6 rounded-lg">
                           <p class="text-xl italic">“Wrotron’s cash-flow overhaul transformed our working capital – within 3 months we freed up ₹30 Lakh and cut DSO by 25 days.”</p>
                           <cite class="block text-right mt-4 not-italic font-semibold text-indigo-300">— Priya Sharma, CFO, ABC Textiles</cite>
                        </blockquote>
                    </div>
                </div>
            </div>
        </section>

        <!-- =================================================================
             MEET OUR TEAM SECTION
        ================================================================== -->
        <section id="team" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl lg:text-4xl font-bold text-white reveal">Meet Our Team</h2>
                <div class="mt-12 grid sm:grid-cols-1 lg:grid-cols-1 gap-8 max-w-lg mx-auto">
                    <!-- Team Card 1 -->
                    <div class="glass-card p-8 rounded-2xl reveal text-center">
                        <img src="https://placehold.co/100x100/6366f1/ffffff?text=RG" alt="Rohit Kumar Gorai" class="w-24 h-24 rounded-full mx-auto mb-4 border-2 border-indigo-400">
                        <h5 class="text-2xl font-bold text-white">Rohit Kumar Gorai</h5>
                        <p class="text-indigo-400 font-semibold">Founder & Lead Consultant</p>
                        <p class="text-gray-400 mt-2">MBA, IIM Sambalpur | ex-GCP Developer at Persistent Systems. Expert in financial modeling & MSME growth.</p>
                        <a href="https://linkedin.com/in/rohitgorai" target="_blank" class="inline-block mt-4 text-indigo-300 hover:text-white transition-colors">View LinkedIn</a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- =================================================================
             RESOURCES SECTION
        ================================================================== -->
        <section id="resources" class="py-20 bg-black/20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl lg:text-4xl font-bold text-white reveal">Insights for MSMEs</h2>
                <p class="mt-4 text-lg text-gray-300 max-w-3xl mx-auto reveal">Practical guides, policy updates, and growth hacks—fresh every fortnight.</p>
                <div class="mt-12 max-w-2xl mx-auto text-left">
                    <ul class="space-y-4">
                        <li class="glass-card p-6 rounded-lg reveal"><a href="#" class="text-xl text-white hover:text-indigo-300 transition-colors">How to Improve Your Cash Cycle in 5 Steps</a></li>
                        <li class="glass-card p-6 rounded-lg reveal" style="transition-delay: 100ms;"><a href="#" class="text-xl text-white hover:text-indigo-300 transition-colors">Claiming MSME Subsidies: A Step-by-Step Guide</a></li>
                        <li class="glass-card p-6 rounded-lg reveal" style="transition-delay: 200ms;"><a href="#" class="text-xl text-white hover:text-indigo-300 transition-colors">5 Data-Driven Strategies to Boost EBITDA</a></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- =================================================================
             CTA SECTION
        ================================================================== -->
        <section id="contact" class="py-20">
            <div class="container mx-auto px-6 text-center reveal">
                <h2 class="text-3xl lg:text-4xl font-bold text-white">Ready for a Free 30-Min Financial Health Check?</h2>
                <p class="mt-4 text-lg text-gray-300 max-w-3xl mx-auto">Book a no-obligation session to uncover hidden growth opportunities.</p>
                <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                    <button class="open-modal-btn flex items-center justify-center gap-2 bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-lg transform hover:scale-105 transition-all duration-300 btn-glow">
                        <span>Schedule Free Consultation</span>
                    </button>
                    <a href="https://wa.me/919876543210" target="_blank" class="flex items-center justify-center gap-2 bg-green-500 text-white font-bold py-3 px-6 rounded-lg text-lg transform hover:scale-105 transition-all duration-300">
                        <span>Start Chat on WhatsApp</span>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- =================================================================
         FOOTER SECTION
    ================================================================== -->
    <footer class="bg-black/20 border-t border-white/10">
        <div class="container mx-auto px-6 py-12">
            <div class="flex justify-center space-x-8 mb-8">
                <img src="https://placehold.co/100x50/ffffff/0f172a?text=CII-MSME" alt="Member of CII MSME Council" class="h-10">
                <img src="https://placehold.co/100x50/ffffff/0f172a?text=FinTech+India" alt="Partnered with FinTech India" class="h-10">
                <img src="https://placehold.co/100x50/ffffff/0f172a?text=ISO+27001" alt="ISO 27001 Certified" class="h-10">
            </div>
            <div class="text-center">
                <ul class="flex justify-center space-x-6">
                    <li><a href="#" class="text-gray-400 hover:text-indigo-400">Privacy Policy</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-indigo-400">Terms of Service</a></li>
                    <li><a href="#" class="text-gray-400 hover:text-indigo-400">Data Security</a></li>
                </ul>
            </div>
        </div>
        <div class="bg-black/30 py-4 mt-8">
            <div class="container mx-auto px-6 text-center text-gray-500">
                <p>&copy; 2024 Wrotron.in. All rights reserved. | An IIM Alumni Initiative</p>
            </div>
        </div>
    </footer>

    <!-- =================================================================
         CONTACT MODAL
    ================================================================== -->
    <div id="contact-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <!-- Modal Overlay -->
        <div id="modal-overlay" class="absolute inset-0 bg-black/60 modal-overlay"></div>
        
        <!-- Modal Container -->
        <div class="glass-card w-full max-w-lg p-8 rounded-2xl z-10 mx-4 modal-container opacity-0 scale-95">
            <div class="flex justify-between items-center">
                <h2 class="text-2xl font-bold text-white">Schedule a Consultation</h2>
                <button id="close-modal-btn" class="text-gray-400 hover:text-white text-3xl leading-none">&times;</button>
            </div>
            <p class="text-gray-400 mt-2 mb-6">Fill out the form below and we'll get back to you shortly.</p>
            
            <!-- Contact Form -->
            <form id="consultation-form">
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium text-gray-300 mb-1">Full Name</label>
                    <input type="text" id="name" name="name" required class="w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-300 mb-1">Email Address</label>
                    <input type="email" id="email" name="email" required class="w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="mb-4">
                    <label for="phone" class="block text-sm font-medium text-gray-300 mb-1">Phone Number (Optional)</label>
                    <input type="tel" id="phone" name="phone" class="w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                <div class="mb-6">
                    <label for="message" class="block text-sm font-medium text-gray-300 mb-1">Message</label>
                    <textarea id="message" name="message" rows="4" required class="w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                </div>
                <div class="text-right">
                    <button type="submit" id="submit-form-btn" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg transition-colors btn-glow w-full">Submit Request</button>
                </div>
            </form>
            <div id="form-status" class="mt-4 text-center"></div>
        </div>
    </div>


    <!-- All JavaScript is now directly inside this <script> tag -->
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        document.addEventListener('DOMContentLoaded', function () {
            
            // =================================================================
            // FIREBASE SETUP
            // =================================================================
            let db, auth;
            
            // YOUR FIREBASE CONFIGURATION - PASTED FROM YOUR FIREBASE PROJECT
            const firebaseConfig = {
              apiKey: "AIzaSyCAQGSP6chmETveZ-vuUaaNPKT2wVUvE_o",
              authDomain: "wrotron-e2ded.firebaseapp.com",
              projectId: "wrotron-e2ded",
              storageBucket: "wrotron-e2ded.appspot.com",
              messagingSenderId: "440892226154",
              appId: "1:440892226154:web:09bdd38649631fbba66813",
              measurementId: "G-TJGGE3CB57"
            };

            // Initialize Firebase
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                const analytics = getAnalytics(app); // Initialize analytics
                
                // Asynchronously sign in
                (async () => {
                    try {
                        await signInAnonymously(auth);
                        console.log("Firebase signed in anonymously successfully.");
                    } catch (error) {
                        console.error("Firebase Anonymous Sign-In Failed:", error);
                        if (error.code === 'auth/operation-not-allowed' || error.code === 'auth/configuration-not-found') {
                            console.error("ACTION REQUIRED: Please enable Anonymous Sign-in in your Firebase project. Go to Firebase Console > Authentication > Sign-in method > Add new provider > Enable Anonymous.");
                        }
                        auth = null; // Nullify auth so the form knows sign-in failed.
                    }
                })();

            } catch (error) {
                console.error("Firebase initialization failed:", error);
                db = null; // Ensure db is null if init fails
                auth = null;
            }

            // =================================================================
            // MODAL LOGIC
            // =================================================================
            const contactModal = document.getElementById('contact-modal');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalContainer = contactModal.querySelector('.modal-container');
            const openModalButtons = document.querySelectorAll('.open-modal-btn');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const consultationForm = document.getElementById('consultation-form');
            const formStatus = document.getElementById('form-status');
            const submitBtn = document.getElementById('submit-form-btn');


            const openModal = () => {
                contactModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
                setTimeout(() => {
                    modalOverlay.classList.remove('opacity-0');
                    modalContainer.classList.remove('opacity-0', 'scale-95');
                }, 10);
            };

            const closeModal = () => {
                modalOverlay.classList.add('opacity-0');
                modalContainer.classList.add('opacity-0', 'scale-95');
                setTimeout(() => {
                    contactModal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                    // FIX: Reset form and status on close
                    consultationForm.reset(); 
                    formStatus.innerHTML = '';
                    formStatus.className = 'mt-4 text-center';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Submit Request';
                }, 300);
            };

            openModalButtons.forEach(btn => btn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal();
            }));
            closeModalBtn.addEventListener('click', closeModal);
            modalOverlay.addEventListener('click', closeModal);

            // =================================================================
            // FORM SUBMISSION LOGIC
            // =================================================================
            if (consultationForm) {
                consultationForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    // FIX: More robust check for both db and auth status
                    if (!db || !auth || !auth.currentUser) { 
                        formStatus.textContent = "Setup Error: Please enable Anonymous Sign-in in your Firebase project's Authentication settings.";
                        formStatus.className = 'mt-4 text-center text-red-400';
                        return;
                    }
                    
                    submitBtn.disabled = true;
                    submitBtn.textContent = 'Submitting...';
                    formStatus.textContent = '';
                    formStatus.className = 'mt-4 text-center';


                    try {
                        const formData = new FormData(consultationForm);
                        const leadData = {
                            name: formData.get('name'),
                            email: formData.get('email'),
                            phone: formData.get('phone'),
                            message: formData.get('message'),
                            submittedAt: serverTimestamp()
                        };
                        
                        const leadsCollectionRef = collection(db, "consultation_requests");

                        await addDoc(leadsCollectionRef, leadData);

                        formStatus.textContent = 'Thank you! Your request has been submitted successfully.';
                        formStatus.className = 'mt-4 text-center text-green-400';
                        
                        setTimeout(() => {
                            closeModal();
                        }, 2500);

                    } catch (error) {
                        console.error("Error adding document: ", error);
                        formStatus.textContent = 'An error occurred. Please try again later.';
                        formStatus.className = 'mt-4 text-center text-red-400';
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'Submit Request';
                    }
                });
            }


            // =================================================================
            // MOBILE MENU LOGIC
            // =================================================================
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });

                const mobileMenuLinks = mobileMenu.querySelectorAll('a');
                mobileMenuLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.add('hidden');
                    });
                });
            }

            // =================================================================
            // SCROLL REVEAL ANIMATION
            // =================================================================
            const revealElements = document.querySelectorAll('.reveal');
            
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, {
                    threshold: 0.1
                });

                revealElements.forEach(element => {
                    observer.observe(element);
                });
            } else {
                revealElements.forEach(element => {
                    element.classList.add('visible');
                });
            }
        });
    </script>
</body>
</html>
